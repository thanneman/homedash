{"version":3,"sources":["components/Links.js","components/Headlines.js","components/CalEvents.js","App.js","index.js"],"names":["Links","className","href","target","rel","icon","faEnvelope","size","faYoutube","faInstagram","faTwitter","faReddit","Headlines","props","link","title","slice","CalEvents","htmlLink","summary","moment","start","dateTime","format","end","gapi","window","API_KEY","process","CLIENT_ID","DISCOVERY_DOCS","App","state","search","location","latitude","longitude","weatherdata","description","temp","headlines","events","error","this","setState","e","preventDefault","usersearch","open","request","XMLHttpRequest","onreadystatechange","readyState","status","myObj","JSON","parse","responseText","items","send","FetchDataFromRssFeed","navigator","geolocation","getCurrentPosition","position","lat","coords","lng","setTimeout","Promise","all","fetch","then","res","map","response","json","result","data","weather","catch","err","load","console","log","client","init","apiKey","clientId","discoveryDocs","scope","auth2","getAuthInstance","signIn","calendar","list","calendarId","timeMin","startOf","toISOString","timeMax","endOf","showDeleted","singleEvents","maxResults","orderBy","gCalEvents","iconImg","imgUrl","headline","i","key","calEvents","calEvent","onSubmit","handleSubmit","type","results","id","name","placeholder","onChange","updateSearch","value","length","src","alt","onClick","handleClick","bind","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab3dd3c6.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport {\n  faYoutube,\n  faInstagram,\n  faTwitter,\n  faReddit,\n} from '@fortawesome/free-brands-svg-icons';\n\nexport default function Links() {\n  return (\n    <>\n      <section className='links'>\n        <a\n          href='https://mail.google.com/mail/u/0/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faEnvelope} size='2x' />\n        </a>\n        <a\n          href='https://www.youtube.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faYoutube} size='2x' />\n        </a>\n        <a\n          href='https://www.instagram.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faInstagram} size='2x' />\n        </a>\n        <a\n          href='https://twitter.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faTwitter} size='2x' />\n        </a>\n        <a\n          href='https://www.reddit.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faReddit} size='2x' />\n        </a>\n      </section>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function Headlines(props) {\n  return (\n    <>\n      <p>\n        <a href={props.link} target='_blank' rel='noopener noreferrer'>\n          {props.title.slice(0, 55)}...\n        </a>\n      </p>\n    </>\n  );\n}\n","import React from 'react';\nimport moment from 'moment';\n\nexport default function CalEvents(props) {\n  return (\n    <>\n      <li>\n        <span className='cal-header'>\n          <a href={props.htmlLink} target='_blank' rel='noopener noreferrer'>\n            {props.summary}\n          </a>\n        </span>\n        <p>\n          {moment(props.start.dateTime).format('h:mm A')}\n          {' - '}\n          {moment(props.end.dateTime).format('h:mm A')}\n        </p>\n      </li>\n    </>\n  );\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport Links from './components/Links';\nimport Headlines from './components/Headlines';\nimport CalEvents from './components/CalEvents';\nimport moment from 'moment';\n\nvar gapi = window.gapi;\nvar API_KEY = `${process.env.REACT_APP_GOOGLECAL_KEY}`;\nvar CLIENT_ID = `${process.env.REACT_APP_GOOGLECALCLIENT_KEY}`;\nvar DISCOVERY_DOCS = [\n  'https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest',\n];\nvar SCOPES = 'https://www.googleapis.com/auth/calendar.readonly';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      location: {\n        latitude: '',\n        longitude: '',\n      },\n      weatherdata: {\n        description: '',\n        icon: '',\n        temp: '',\n      },\n      headlines: [],\n      events: [],\n      error: null,\n    };\n  }\n\n  // update search state\n  updateSearch(search) {\n    this.setState({ search });\n  }\n\n  // handle search and open in new tab\n  handleSubmit(e) {\n    e.preventDefault();\n    const usersearch = `https://www.google.com/search?q=${this.state.search}`;\n    window.open(usersearch, '_blank');\n  }\n\n  // getEvents() {\n  //   let that = this;\n  //   function start() {\n  //     gapi.client\n  //       .init({\n  //         apiKey: `${API_KEY}`,\n  //       })\n  //       .then(function() {\n  //         return gapi.client.request({\n  //           path: `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?maxResults=10&orderBy=startTime&showDeleted=false&singleEvents=true&timeMin=${moment()\n  //             .startOf('day')\n  //             .toISOString()}&timeMax=${moment()\n  //             .endOf('day')\n  //             .toISOString()}`,\n  //         });\n  //       })\n  //       .then(\n  //         (response) => {\n  //           let events = response.result.items;\n  //           that.setState({\n  //             events: events,\n  //           });\n  //         },\n  //         function(reason) {\n  //           console.log(reason);\n  //         }\n  //       );\n  //   }\n  //   gapi.load('client', start);\n  // }\n\n  FetchDataFromRssFeed() {\n    var request = new XMLHttpRequest();\n    request.onreadystatechange = () => {\n      if (request.readyState === 4 && request.status === 200) {\n        var myObj = JSON.parse(request.responseText);\n        this.setState({\n          headlines: myObj.items,\n        });\n      }\n    };\n    request.open(\n      'GET',\n      'https://api.rss2json.com/v1/api.json?rss_url=https://www.theverge.com/rss/front-page/index.xml',\n      true\n    );\n    request.send();\n  }\n\n  componentDidMount() {\n    // this.getEvents();\n\n    this.FetchDataFromRssFeed();\n\n    navigator.geolocation.getCurrentPosition((position) => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      this.setState({\n        location: {\n          latitude: lat,\n          longitude: lng,\n        },\n      });\n      setTimeout(() => {\n        Promise.all([\n          fetch(\n            `https://api.weatherbit.io/v2.0/current?lat=${this.state.location.latitude}&lon=${this.state.location.longitude}&units=I&key=${process.env.REACT_APP_WEATHER_KEY}`\n          ),\n        ])\n          .then((res) => {\n            // Get a JSON object from each of the responses\n            return Promise.all(\n              res.map(function(response) {\n                return response.json();\n              })\n            );\n          })\n          .then((result) => {\n            const { temp } = result[0].data[0];\n            const { description, icon } = result[0].data[0].weather;\n            this.setState({\n              weatherdata: {\n                temp: temp,\n                description: description,\n                icon: icon,\n              },\n            });\n          })\n          .catch((err) => {\n            this.setState({\n              error: 'Something went wrong.',\n            });\n          });\n      }, 500);\n    });\n  }\n\n  handleClick() {\n    gapi.load('client:auth2', () => {\n      console.log('loaded client');\n\n      gapi.client.init({\n        apiKey: API_KEY,\n        clientId: CLIENT_ID,\n        discoveryDocs: DISCOVERY_DOCS,\n        scope: SCOPES,\n      });\n\n      gapi.client.load('calendar', 'v3');\n\n      gapi.auth2\n        .getAuthInstance()\n        .signIn()\n        .then(() => {\n          // get events\n          gapi.client.calendar.events\n            .list({\n              calendarId: 'primary',\n              timeMin: moment()\n                .startOf('day')\n                .toISOString(),\n              timeMax: moment()\n                .endOf('day')\n                .toISOString(),\n              showDeleted: false,\n              singleEvents: true,\n              maxResults: 10,\n              orderBy: 'startTime',\n            })\n            .then((result) => {\n              let gCalEvents = result.result.items;\n              console.log(gCalEvents);\n              this.setState({\n                events: gCalEvents,\n              });\n            })\n            .catch((err) => {\n              this.setState({\n                error: 'Something went wrong.',\n              });\n            });\n        });\n    });\n  }\n\n  render() {\n    // set url for weather icon\n    const iconImg = this.state.weatherdata.icon;\n    const imgUrl = `https://www.weatherbit.io/static/img/icons/${iconImg}.png`;\n\n    // map over headlines\n    const headlines = this.state.headlines.map((headline, i) => {\n      return <Headlines {...headline} key={i} />;\n    });\n\n    // map over calendar events\n    const calEvents = this.state.events.map((calEvent, i) => {\n      if (calEvent) {\n        return <CalEvents {...calEvent} key={i} />;\n      } else {\n        return <p>No Calendar Events Today</p>;\n      }\n    });\n\n    return (\n      <main className='app'>\n        <section className='search'>\n          <form className='search-form' onSubmit={(e) => this.handleSubmit(e)}>\n            <input\n              type='search'\n              results='3'\n              id='search'\n              name='search'\n              placeholder='Search Google'\n              onChange={(e) => this.updateSearch(e.target.value)}\n            />\n          </form>\n        </section>\n        <Links />\n        <section className='weather'>\n          {this.state.weatherdata.icon.length > 0 ? (\n            <img src={imgUrl} alt={this.state.weatherdata.description} />\n          ) : (\n            ''\n          )}\n          {!this.state.weatherdata.temp.length > 0 ? (\n            <h1>{this.state.weatherdata.temp}</h1>\n          ) : (\n            ''\n          )}\n          <p>{this.state.weatherdata.description}</p>\n        </section>\n        <section className='calendar'>\n          <h2>{moment().format('ddd, MMMM Do')}</h2>\n          <ul>{calEvents}</ul>\n          <button onClick={this.handleClick.bind(this)}>Button</button>\n        </section>\n        <section className='headlines'>\n          <h2>Articles from The Verge</h2>\n          {headlines}\n        </section>\n      </main>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
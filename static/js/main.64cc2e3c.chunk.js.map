{"version":3,"sources":["components/Links.js","components/Headlines.js","components/CalEvents.js","App.js","index.js"],"names":["Links","className","href","target","rel","icon","faEnvelope","size","faYoutube","faInstagram","faTwitter","faReddit","Headlines","props","link","title","slice","CalEvents","htmlLink","summary","moment","start","dateTime","format","end","gapi","window","API_KEY","process","CALENDAR_ID","App","state","search","location","latitude","longitude","weatherdata","description","temp","headlines","events","error","this","setState","e","preventDefault","usersearch","open","that","load","client","init","apiKey","then","request","path","startOf","toISOString","endOf","response","result","items","reason","console","log","XMLHttpRequest","onreadystatechange","readyState","status","myObj","JSON","parse","responseText","send","getEvents","FetchDataFromRssFeed","navigator","geolocation","getCurrentPosition","position","lat","coords","lng","setTimeout","Promise","all","fetch","res","map","json","data","weather","catch","err","iconImg","imgUrl","headline","i","key","calEvents","calEvent","onSubmit","handleSubmit","type","results","id","name","placeholder","onChange","updateSearch","value","length","src","alt","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.64cc2e3c.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\nimport {\n  faYoutube,\n  faInstagram,\n  faTwitter,\n  faReddit,\n} from '@fortawesome/free-brands-svg-icons';\n\nexport default function Links() {\n  return (\n    <>\n      <section className='links'>\n        <a\n          href='https://mail.google.com/mail/u/0/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faEnvelope} size='2x' />\n        </a>\n        <a\n          href='https://www.youtube.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faYoutube} size='2x' />\n        </a>\n        <a\n          href='https://www.instagram.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faInstagram} size='2x' />\n        </a>\n        <a\n          href='https://twitter.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faTwitter} size='2x' />\n        </a>\n        <a\n          href='https://www.reddit.com/'\n          target='_blank'\n          rel='noopener noreferrer'>\n          <FontAwesomeIcon icon={faReddit} size='2x' />\n        </a>\n      </section>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function Headlines(props) {\n  return (\n    <>\n      <p>\n        <a href={props.link} target='_blank' rel='noopener noreferrer'>\n          {props.title.slice(0, 55)}...\n        </a>\n      </p>\n    </>\n  );\n}\n","import React from 'react';\nimport moment from 'moment';\n\nexport default function CalEvents(props) {\n  return (\n    <>\n      <li>\n        <span className='cal-header'>\n          <a href={props.htmlLink} target='_blank' rel='noopener noreferrer'>\n            {props.summary}\n          </a>\n        </span>\n        <p>\n          {moment(props.start.dateTime).format('h:mm A')}\n          {' - '}\n          {moment(props.end.dateTime).format('h:mm A')}\n        </p>\n      </li>\n    </>\n  );\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport Links from './components/Links';\nimport Headlines from './components/Headlines';\nimport CalEvents from './components/CalEvents';\nimport moment from 'moment';\n\nvar gapi = window.gapi;\nvar API_KEY = `${process.env.REACT_APP_GOOGLECAL_KEY}`;\nvar CALENDAR_ID = `${process.env.REACT_APP_GOOGLECALID_KEY}`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      location: {\n        latitude: '',\n        longitude: '',\n      },\n      weatherdata: {\n        description: '',\n        icon: '',\n        temp: '',\n      },\n      headlines: [],\n      events: [],\n      error: null,\n    };\n  }\n\n  // update search state\n  updateSearch(search) {\n    this.setState({ search });\n  }\n\n  // handle search and open in new tab\n  handleSubmit(e) {\n    e.preventDefault();\n    const usersearch = `https://www.google.com/search?q=${this.state.search}`;\n    window.open(usersearch, '_blank');\n  }\n\n  getEvents() {\n    let that = this;\n    function start() {\n      gapi.client\n        .init({\n          apiKey: `${API_KEY}`,\n        })\n        .then(function() {\n          return gapi.client.request({\n            path: `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?maxResults=10&orderBy=startTime&showDeleted=false&singleEvents=true&timeMin=${moment()\n              .startOf('day')\n              .toISOString()}&timeMax=${moment()\n              .endOf('day')\n              .toISOString()}`,\n          });\n        })\n        .then(\n          (response) => {\n            let events = response.result.items;\n            that.setState({\n              events: events,\n            });\n          },\n          function(reason) {\n            console.log(reason);\n          }\n        );\n    }\n    gapi.load('client', start);\n  }\n\n  FetchDataFromRssFeed() {\n    var request = new XMLHttpRequest();\n    request.onreadystatechange = () => {\n      if (request.readyState === 4 && request.status === 200) {\n        var myObj = JSON.parse(request.responseText);\n        console.log(myObj.items);\n        this.setState({\n          headlines: myObj.items,\n        });\n      }\n    };\n    request.open(\n      'GET',\n      'https://api.rss2json.com/v1/api.json?rss_url=https://www.theverge.com/rss/front-page/index.xml',\n      true\n    );\n    request.send();\n  }\n\n  componentDidMount() {\n    this.getEvents();\n\n    this.FetchDataFromRssFeed();\n\n    navigator.geolocation.getCurrentPosition((position) => {\n      let lat = position.coords.latitude;\n      let lng = position.coords.longitude;\n      this.setState({\n        location: {\n          latitude: lat,\n          longitude: lng,\n        },\n      });\n      setTimeout(() => {\n        Promise.all([\n          fetch(\n            `https://api.weatherbit.io/v2.0/current?lat=${this.state.location.latitude}&lon=${this.state.location.longitude}&units=I&key=${process.env.REACT_APP_WEATHER_KEY}`\n          ),\n        ])\n          .then((res) => {\n            // Get a JSON object from each of the responses\n            return Promise.all(\n              res.map(function(response) {\n                return response.json();\n              })\n            );\n          })\n          .then((result) => {\n            const { temp } = result[0].data[0];\n            const { description, icon } = result[0].data[0].weather;\n            this.setState({\n              weatherdata: {\n                temp: temp,\n                description: description,\n                icon: icon,\n              },\n            });\n          })\n          .catch((err) => {\n            this.setState({\n              error: 'Something went wrong.',\n            });\n          });\n      }, 500);\n    });\n  }\n\n  render() {\n    // set url for weather icon\n    const iconImg = this.state.weatherdata.icon;\n    const imgUrl = `https://www.weatherbit.io/static/img/icons/${iconImg}.png`;\n\n    // map over all headlines\n    const headlines = this.state.headlines.map((headline, i) => {\n      return <Headlines {...headline} key={i} />;\n    });\n\n    // map over all headlines\n    const calEvents = this.state.events.map((calEvent, i) => {\n      if (calEvent) {\n        return <CalEvents {...calEvent} key={i} />;\n      } else {\n        return <p>No Calendar Events Today</p>;\n      }\n    });\n    return (\n      <main className='app'>\n        <section className='search'>\n          <form className='search-form' onSubmit={(e) => this.handleSubmit(e)}>\n            <input\n              type='search'\n              results='3'\n              id='search'\n              name='search'\n              placeholder='Search Google'\n              onChange={(e) => this.updateSearch(e.target.value)}\n            />\n          </form>\n        </section>\n        <Links />\n        <section className='weather'>\n          {this.state.weatherdata.icon.length > 0 ? (\n            <img src={imgUrl} alt={this.state.weatherdata.description} />\n          ) : (\n            ''\n          )}\n          {!this.state.weatherdata.temp.length > 0 ? (\n            <h1>{this.state.weatherdata.temp}</h1>\n          ) : (\n            ''\n          )}\n          <p>{this.state.weatherdata.description}</p>\n        </section>\n        <section className='calendar'>\n          <h2>{moment().format('ddd, MMMM Do')}</h2>\n          <ul>{calEvents}</ul>\n        </section>\n        <section className='headlines'>\n          <h2>Articles from The Verge</h2>\n          {headlines}\n        </section>\n      </main>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}